<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Angular JS</title>
<script
	src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js"></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.5/angular-messages.min.js"></script>
<script src="./js/company.js"></script>
<script src="./js/companyService.js"></script>
<script src="./js/companyController.js"></script>
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
</head>
<body data-ng-app="company">
	<div class="container" data-ng-controller="companyController as cc">
		<div class="row">
			<div class="col-sm-12">
				<h1 class="thick-heading">Company</h1>
				<form class="form-horizontal" role="form" name="companyForm"
					novalidate>

					<div class="form-group">
						<label class="col-sm-2 control-label">Company ID</label>
						<div class="col-sm-4">
							<input class="form-control" type="number"
								data-ng-model="company.companyID" name="companyID" required
								placeholder="Company ID" />
						</div>
						<div data-ng-messages="companyForm.companyID.$error"
							data-ng-show="companyForm.companyID.$touched">
							<p data-ng-message="required">Company ID is required</p>
						</div>
					</div>

					<div class="form-group">
						<label class="col-sm-2 control-label">Company Name</label>
						<div class="col-sm-4">
							<input class="form-control" type="text"
								data-ng-model="company.name" name="name" required
								placeholder="Company Name" />
						</div>
						<div data-ng-messages="companyForm.name.$error"
							data-ng-show="companyForm.name.$touched">
							<p data-ng-message="required">Company name is required</p>
						</div>
					</div>

					<div class="form-group">
						<label class="col-sm-2 control-label">Number</label>
						<div class="col-sm-4">
							<input class="form-control" type="text"
								data-ng-model="company.address.no" name="address_no" required
								placeholder="Door No" />
						</div>
						<div data-ng-messages="companyForm.address_no.$error"
							data-ng-show="companyForm.address_no.$touched">
							<p data-ng-message="required">Door number is required</p>
						</div>
					</div>

					<div class="form-group">
						<label class="col-sm-2 control-label">Street</label>
						<div class="col-sm-4">
							<input class="form-control" type="text"
								data-ng-model="company.address.street" name="address_street"
								required placeholder="Street" />
						</div>
						<div data-ng-messages="companyForm.address_street.$error"
							data-ng-show="companyForm.address_street.$touched">
							<p data-ng-message="required">Street name is required</p>
						</div>
					</div>

					<div class="form-group">
						<label class="col-sm-2 control-label">City</label>
						<div class="col-sm-4">
							<input class="form-control" type="text"
								data-ng-model="company.address.city" name="address_city"
								required placeholder="City" />
						</div>
						<div data-ng-messages="companyForm.address_city.$error"
							data-ng-show="companyForm.address_city.$touched">
							<p data-ng-message="required">City name is required.</p>
						</div>
					</div>

					<div class="form-group">
						<label class="col-sm-2 control-label">Country</label>
						<div class="col-sm-4">
							<input class="form-control" type="text"
								data-ng-model="company.address.country" name="address_country"
								required placeholder="Country" />
						</div>
						<div data-ng-messages="companyForm.address_country.$error"
							data-ng-show="companyForm.address_country.$touched">
							<p data-ng-message="required">Country is required.</p>
						</div>
					</div>

					<div class="form-group">
						<label class="col-sm-2 control-label">Postal Code</label>
						<div class="col-sm-4">
							<input class="form-control" type="number"
								data-ng-model="company.address.zipCode" name="address_zipCode"
								required placeholder="Postal code" />
						</div>
						<div data-ng-messages="companyForm.address_zipCode.$error"
							data-ng-show="companyForm.address_zipCode.$touched">
							<p data-ng-message="required">Postal code is required.</p>
						</div>
					</div>

					<div class="form-group">
						<label class="col-sm-2 control-label">Email</label>
						<div class="col-sm-4">
							<input class="form-control" type="email"
								data-ng-model="company.email" name="email"
								placeholder="Email ID" />
						</div>
						<div data-ng-messages="companyForm.email.$error"
							data-ng-show="companyForm.email.$touched">
							<p data-ng-message="email">Email is invalid.</p>
						</div>
					</div>

					<div class="form-group">
						<label class="col-sm-2 control-label">Phone number</label>
						<div class="col-sm-4">
							<input class="form-control" type="number" min="1000000000"
								max="9999999999" data-ng-model="company.phoneNumber"
								name="phoneNumber" placeholder="Phone Number" />
						</div>
						<div data-ng-messages="companyForm.phoneNumber.$error"
							data-ng-show="companyForm.phoneNumber.$touched">
							<p data-ng-message="min">Phone number should be 10 digits</p>
							<p data-ng-message="max">Phone number should be 10 digits</p>
						</div>
					</div>

					<div class="form-group">
						<label class="col-sm-2 control-label">Owner</label>
						<div class="col-sm-4">
							<input class="form-control" type="text"
								data-ng-model="company.owners" data-ng-list name="owners"
								required placeholder="Owner(s) name, comma seperated" />
						</div>
						<div data-ng-messages="companyForm.owners.$error"
							data-ng-show="companyForm.owners.$touched">
							<p data-ng-message="required">Owner(s) name required.</p>
						</div>
					</div>

					<div class="form-group">
						<div class="col-sm-8" align="center">
							<input type="number" name="comId" data-ng-model="comId"
								placeholder="company ID">
							<button type="submit" class="btn btn-success"
								data-ng-click="getCompany(comId)">Get</button>
							<button type="reset" class="btn btn-warning"
								data-ng-click="reset()">Reset</button>
							<button type="submit" class="btn btn-success"
								data-ng-click="save(company)">Save/Update</button>
							<!-- companyForm.$touched && companyForm.$valid &&  -->
						</div>
					</div>

				</form>
			</div>
		</div>
		<div class="row">
			<div class="col-sm-10">
				<div>
					<h1 class="thick-heading">All Companies</h1>
					<button type="submit" class="btn btn-success"
						data-ng-click="refresh()">Refresh</button>
				</div>
				<table class="table table-bordred table-striped">
					<thead>
						<tr>
							<th>Company ID</th>
							<th>Company Name</th>
							<th>Door No</th>
							<th>Street</th>
							<th>City</th>
							<th>Country</th>
							<th>Postal Code</th>
							<th>Email</th>
							<th>Phone Numbers</th>
							<th>Owner</th>
						</tr>
					</thead>
					<tbody data-ng-repeat="c in allCompanies">
						<tr>
							<td>{{c.companyID}}</td>
							<td>{{c.name}}</td>
							<td>{{c.address.no}}</td>
							<td>{{c.address.street}}</td>
							<td>{{c.address.city}}</td>
							<td>{{c.address.country}}</td>
							<td>{{c.address.zipCode}}</td>
							<td>{{c.email}}</td>
							<td>{{c.phoneNumber}}</td>
							<td>{{c.owners}}</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
</body>
</html>